{% extends 'base.html' %}
{% block content %}
<a href="/add" class="btn add-btn">âž• Add New Task</a>

<ul class="task-list">
    {% for task in tasks %}
        <li class="{% if task[4] == 'completed' %}completed{% endif %}">
            <div class="task-info">
                <strong>{{ task[1] }}</strong> - <small>{{ task[2] }}</small><br>
                <small>Due: {{ task[3] }}</small>
            </div>

            <div class="task-actions">
                {% if task[4] == 'pending' %}
                    <form method="post" action="/api/tasks/{{ task[0] }}/complete" class="inline-form">
                        <button type="submit" class="btn complete-btn">âœ” Complete</button>
                    </form>
                    <form method="post" action="/api/tasks/{{ task[0] }}/delete" class="inline-form">
                        <button type="submit" class="btn delete-btn">ðŸ—‘ Delete</button>
                    </form>
                {% else %}
                    <span class="status completed">âœ… Completed</span>
                    <form method="post" action="/api/tasks/{{ task[0] }}/delete" class="inline-form">
                        <button type="submit" class="btn delete-btn">ðŸ—‘ Delete</button>
                    </form>
                {% endif %}
            </div>
        </li>
    {% endfor %}
</ul>
{% endblock %}
